<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>📊 LSA Agent</title>
  <meta name="description" content="Liquidity & Solvency Analysis - Powered by fin agent v1" />
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet" href="https://chanthr.github.io/styles.css?v=4" />
</head>
<body>
  <div class="wrap">
    <h1>📊 Liquidity & Solvency Analysis</h1>
    <p class="muted">Powered by finance agent v1.0</p>

    <div class="card">
      <div class="row align-center">
        <input id="ticker" class="flex-1" placeholder="e.g. AAPL / 005930.KS / 7203.T" />
        <select id="lang">
          <option value="ko">Korean</option>
          <option value="en">English</option>
        </select>
        <button id="go">🔎 Analyse</button>
      </div>

      <!-- ✅ 검색 전에 고르는 표시 옵션 (기본 해제) -->
      <div class="row align-center mt-8 opt-row">
        <label class="checkbox"><input type="checkbox" id="opt-pred" /> <span>Predict</span></label>
        <label class="checkbox"><input type="checkbox" id="opt-sum"  /> <span>Analyst Pro by AI</span></label>
        <label class="checkbox"><input type="checkbox" id="opt-news" /> <span>Trends</span></label>
      </div>

      <p class="muted mt-8">For KR/JP/HK Stocks, must end with .KS / .T / .HK</p>
      <p class="muted mt-8">Please use responsibly.</p>
      <p class="muted">API Status: <span id="health">Checking...</span></p>
    </div>
    
    <div id="out" class="card hidden">
      <h2 id="title">Result</h2>
      <div id="meta" class="muted mb-8"></div>

      <h3>💧 Liquidity</h3>
      <div id="liq" class="grid grid-3"></div>

      <h3>🛡️ Solvency</h3>
      <div id="sol" class="grid grid-3"></div>

      <h3>📝 Narrative</h3>
      <div id="narr" class="muted"></div>

      <!-- 🔮 Prediction -->
      <section id="pred-section" class="hidden">
        <h3>🔮 Prediction (1-Day)</h3>
        <div id="pred" class="grid grid-3"></div>
      </section>

      <!-- 🧠 LLM Summary -->
      <section id="sum-section" class="hidden">
        <h3>🧠 LLM Summary</h3>
        <div id="sum" class="summary muted"></div>
      </section>

      <!-- 🗞 News -->
      <section id="news-section" class="hidden">
        <h3>🗞 News</h3>
        <ul id="news" class="news-list"></ul>
      </section>
      
      <div class="json-toggle mt-12">
        <label class="checkbox">
          <input type="checkbox" id="toggle-json" />
          <span>Show RAW JSON</span>
        </label>
      </div>
      <div id="jsonWrap" class="json-wrap hidden">
        <pre id="raw"></pre>
      </div>
    </div>
  </div>

  <footer class="watermark">© 2025 Powered by @chnxthr</footer>

  <!-- 앱 스크립트 -->
  <script src="https://chanthr.github.io/app.js?v=4" defer></script>
</body>
</html>
